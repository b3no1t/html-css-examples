<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Responsive Slider, Vanilla JS</title>

    <link rel="stylesheet" href="./style.css" />

    <meta name="author" content="Benoit Lepage" />
  </head>
  <body>
    <main>
      <h1>Testimonials</h1>

      <div class="slider">
        <div class="slide-row" id="slide-row">
          <!--section slide-->
          <div class="slide-col">
            <div class="content">
              <p>
                Zen Doan is a business analyst, entrepreneur and media
                proprietor, and investor. She also known as the best selling
                book author.
              </p>
              <h2>Zen</h2>
              <p>Author</p>
            </div>
            <div class="hero">
              <img
                src="https://user-images.githubusercontent.com/13468728/234031693-6bbaba7d-632c-4d7d-965f-75a76a549ce2.jpg"
                alt="avatar"
              />
            </div>
          </div>
          <!--section slide-->
          <div class="slide-col">
            <div class="content">
              <p>
                Jonathan Koletic is an American internet entrepreneur and media
                proprietor, and investor. He is the founder of the
                multi-national technology company Treymont.
              </p>
              <h2>Jonathan</h2>
              <p>Treymont Inc.</p>
            </div>
            <div class="hero">
              <img
                src="https://user-images.githubusercontent.com/13468728/234031617-2dfb19ea-01d0-4370-b63b-bb6bdfb4f78e.jpg"
                alt="avatar"
              />
            </div>
          </div>
          <!--section slide-->
          <div class="slide-col">
            <div class="content">
              <p>
                Charlie Green is an European entrepreneur and media consultant,
                and investor. He is the founder of the Hallmark Inc.
              </p>
              <h2>Charlie</h2>
              <p>Hallmark Inc.</p>
            </div>
            <div class="hero">
              <img
                src="https://user-images.githubusercontent.com/13468728/234031646-10533999-39e5-4c7b-ab54-d0299b13ce74.jpg"
                alt="avatar"
              />
            </div>
          </div>
          <!--section slide-->
          <div class="slide-col">
            <div class="content">
              <p>
                Sarah Dam is an American internet entrepreneur and media
                proprietor, and investor. She is the founder of the
                multi-national technology company Zara.
              </p>
              <h2>Sarah</h2>
              <p>Zara Inc.</p>
            </div>
            <div class="hero">
              <img
                src="https://github.com/ecemgo/ecemgo/assets/13468728/55116c98-5f9a-4b0a-9fdb-4911b52d5ef3"
                alt="avatar"
              />
            </div>
          </div>
        </div>
      </div>
      <!-- indicator -->
      <div class="indicator">
        <span class="btn active"></span>
        <span class="btn"></span>
        <span class="btn"></span>
        <span class="btn"></span>
      </div>
    </main>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const btns = document.querySelectorAll(".btn");
        const slideRow = document.getElementById("slide-row");
        const main = document.querySelector("main");

        let currentIndex = 0;

        function updateSlide() {
         /*

          Voici ce que cette fonction: 

          Calcule la nouvelle position de la diapositive en multipliant l'index actuel (currentIndex) par la largeur négative de l'élément principal (main.offsetWidth). Cette valeur est utilisée pour convertir horizontalement la rangée de diapositives.

          Applique la translation calculée à l'élément slideRow à l'aide de la propriété CSS transform.
          Met à jour les boutons indicateurs en faisant basculer la classe « active » sur le bouton correspondant à l'index actuel (currentIndex).

         */
         const translateValue = currentIndex * -main.offsetWidth;
         slideRow.style.transform = `translateX(${translateValue}px)`;
       
         btns.forEach((btn, index) => {
           btn.classList.toggle("active", index === currentIndex);
         });
       }

        btns.forEach((btn, index) => {
          btn.addEventListener("click", () => {
            console.log("clicked ", index);
            currentIndex = index;
            updateSlide();
          });
        });

        window.addEventListener("resize", () => {
          updateSlide();
        });
      });
    </script>
  </body>
</html>
